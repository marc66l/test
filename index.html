<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Szavazz a 12.B-re!</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto:wght@400&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
/* ALAP BE√ÅLL√çT√ÅSOK */
body, html {
    margin: 0; padding: 0; width: 100%; height: 100%; 
    overflow: hidden; font-family: 'Roboto', sans-serif;
    display: flex; justify-content: center; align-items: center;
    background-color: #000;
}

.background-layer {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
    background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('hatter.png');
    background-size: cover; background-position: center center;
}

/* KONT√âNER √âS GOMBOK */
.container {
    width: 88%; max-width: 400px; text-align: center; 
    background: rgba(0, 0, 0, 0.85); padding: 25px 15px;
    border-radius: 25px; border: 2px solid #ffd700;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    max-height: 90vh; overflow-y: auto; z-index: 1;
}

h1 { font-family: 'Montserrat', sans-serif; font-size: 28px; color: #ffd700; margin-bottom: 5px; }
.motto { font-style: italic; margin-bottom: 25px; display: block; font-size: 13px; color: #fff; opacity: 0.8; }

.btn {
    display: flex; align-items: center; justify-content: center;
    color: white; font-weight: bold; padding: 18px; margin-bottom: 12px;
    border-radius: 15px; font-size: 17px; cursor: pointer; border: none; width: 100%;
    transition: transform 0.2s;
}

.btn-video-menu { background-color: #f39c12; }
.btn-insta { background: linear-gradient(45deg, #f09433 0%, #dc2743 50%, #bc1888 100%); }
.btn-wish { background-color: #27ae60; }

/* OVERLAY RENDSZER */
.overlay {
    display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.95); z-index: 1000;
    justify-content: center; align-items: center; flex-direction: column;
}

/* VIDE√ì LEJ√ÅTSZ√ì MOBILRA */
#video-wrapper {
    width: 95%; height: 60vh; /* Mobil kijelz≈ëh√∂z igaz√≠tva */
    background: #000; border-radius: 10px; border: 1px solid #ffd700;
    overflow: hidden;
}
iframe { width: 100%; height: 100%; border: none; }

/* K√ÅRTY√ÅK (MEN√ú, INFO, SIKER) */
.card {
    background: white; padding: 25px; border-radius: 20px;
    width: 85%; max-width: 320px; text-align: center;
    box-shadow: 0 15px 30px rgba(0,0,0,0.5);
}
.card h2 { margin-top: 0; font-size: 22px; }
.submit-btn { 
    background-color: #2980b9; color: white; border: none; 
    padding: 14px; border-radius: 10px; width: 100%; 
    font-weight: bold; font-size: 16px; margin-top: 10px;
}

/* EASTER EGG */
#tap-message {
    position: fixed; top: 15%; background: #e74c3c; color: #fff;
    padding: 10px 20px; border-radius: 50px; display: none; z-index: 2000;
}
</style>
</head>
<body>

<div class="background-layer" onclick="handleBgClick()"></div>
<div id="tap-message">Ne b√∂k√∂dj, f√°j! üò†</div>

<div class="container">
    <h1>CSAK A 12.B!</h1>
    <span class="motto">V√°laszd a j√∂v≈ët, v√°laszd a showmant!</span>

    <button class="btn btn-video-menu" onclick="openOverlay('video-menu-overlay')">üé¨ Vide√≥k</button>
    <a href="https://www.instagram.com/david_a_showman/" class="btn btn-insta">üì∏ Instagram</a>
    <button class="btn btn-wish" onclick="toggleForm()">‚úâÔ∏è K√≠v√°ns√°gm≈±sor</button>

    <div id="wish-form-container" style="display:none; margin-top:15px; background:#fff; padding:15px; border-radius:15px;">
        <form id="my-form">
            <textarea name="message" rows="3" placeholder="Mit int√©zz√ºnk el?" style="width:100%; border:1px solid #ccc; border-radius:10px; padding:10px; box-sizing:border-box;" required></textarea>
            <button type="submit" id="submit-button" class="submit-btn">Int√©zd el!</button>
        </form>
    </div>
</div>

<div id="video-menu-overlay" class="overlay">
    <div class="card">
        <h2 style="color:#333;">V√°lassz vide√≥t!</h2>
        <button class="submit-btn" style="background:#e67e22;" onclick="playVideo('1fmZ5r4I2-gckufjDp0c4A2EsN93luT4N')">A kezdet</button>
        <button class="submit-btn" style="background:#95a5a6;" onclick="showInfo()">Hamarosan...</button>
        <button class="submit-btn" style="background:#95a5a6;" onclick="showInfo()">Hamarosan...</button>
        <button class="submit-btn" style="background:#34495e;" onclick="closeOverlay('video-menu-overlay')">Vissza</button>
    </div>
</div>

<div id="info-overlay" class="overlay">
    <div class="card" style="border-top: 8px solid #f39c12;">
        <h2 style="color:#f39c12;">üòâ HOPP√Å!</h2>
        <p style="color:#333; font-weight:bold;">L√°tom m√°r k√≠v√°ncsi vagy...<br>Hamarosan √©rkezik!</p>
        <button onclick="closeOverlay('info-overlay')" class="submit-btn" style="background:#f39c12;">Rendben</button>
    </div>
</div>

<div id="video-overlay" class="overlay">
    <div id="video-wrapper"></div>
    <button onclick="closeVideo()" class="submit-btn" style="width:180px; background:#ffd700; color:#000; margin-top:20px;">VISSZA</button>
</div>

<div id="success-overlay" class="overlay">
    <div class="card" style="border-top: 8px solid #27ae60;">
        <h2 style="color:#27ae60;">‚úì VETT√úK!</h2>
        <p style="color:#333; font-weight:bold;">A 12.B m√°r int√©zkedik!</p>
        <button onclick="closeOverlay('success-overlay')" class="submit-btn" style="background:#27ae60;">Vissza</button>
    </div>
</div>

<script>
const scriptURL = 'https://script.google.com/macros/s/AKfycbzk5LEtFjBApTaQlK66QJlNPIk69Og36snw9B6iSekoKF0VNinIe0Yi2-cZLyH7lG3Ikw/exec';

function openOverlay(id) { document.getElementById(id).style.display = 'flex'; }
function closeOverlay(id) { document.getElementById(id).style.display = 'none'; }

function playVideo(id) {
    const wrapper = document.getElementById('video-wrapper');
    // Itt a titok: allowfullscreen √©s a kieg√©sz√≠t≈ëk a mobil teljes k√©perny≈ëh√∂z
    wrapper.innerHTML = `<iframe src="https://drive.google.com/file/d/${id}/preview" 
        allow="autoplay; fullscreen" 
        allowfullscreen="true" 
        webkitallowfullscreen="true" 
        mozallowfullscreen="true"></iframe>`;
    openOverlay('video-overlay');
}

function closeVideo() {
    document.getElementById('video-wrapper').innerHTML = '';
    closeOverlay('video-overlay');
}

function showInfo() { openOverlay('info-overlay'); }

function toggleForm() {
    const f = document.getElementById("wish-form-container");
    f.style.display = (f.style.display === "none") ? "block" : "none";
}

// Easter Egg
let clicks = 0;
function handleBgClick() {
    clicks++;
    if(clicks >= 10) {
        const m = document.getElementById('tap-message');
        m.style.display = 'block'; clicks = 0;
        setTimeout(() => m.style.display = 'none', 2000);
    }
}

// Form kezel√©s
document.getElementById("my-form").onsubmit = function(e) {
    e.preventDefault();
    const btn = document.getElementById("submit-button");
    btn.disabled = true; btn.innerText = "K√ºld√©s...";
    
    fetch(scriptURL, { method: 'POST', mode: 'no-cors', body: new FormData(this) })
    .then(() => {
        confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
        openOverlay('success-overlay');
        this.reset(); toggleForm();
        btn.disabled = false; btn.innerText = "Int√©zd el!";
    });
};
</script>
</body>
</html>